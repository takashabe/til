## Bツリーインデックス

InnoDBのインデックスはBツリー(B+ツリー)構造で管理されている。Bツリーインデックスの特徴や注意点は以下の通り。

#### 特徴

* Bツリー自体の構造について
  * https://ja.wikipedia.org/wiki/B%2B%E6%9C%A8
* 検索時の計算量が小さくなるような構造になっている
* ノード1つにつきブロック1つと紐付けられる
* HDDはブロック間のシーク時間がボトルネックとなるので特に有効
  * SSDも結局ブロックデバイスなので依然重要

#### 注意点

* データが削除された場合、インデックスは論理削除されるだけである
* またデータが更新されると元のデータがリーフより削除され、挿入が実行される
* 削除と更新が繰り返されると空リーフが増え、パフォーマンスの低下に繋がる
  * `OPTIMIZE TABLE` でインデックスを再構築することが必要
